<h1 class="title">Search</h1>

<div class="container">
  <div class="row">

    <!-- Seach by name -->
    <div class="name-search" *ngIf="searchByName">
      <div class="search-bird">
        <input type="text" name="search" [(ngModel)]="searchTextName" placeholder="Search by name">
      </div>
      <div class="search-btns">
        <button class="btn btn-outline-primary active" type="button" name="button" (click)="nameSearch()">Search by Name</button>
        <button class="btn btn-outline-primary" type="button" name="button" (click)="habitatSearch()">Search by Habitat</button>
        <button class="btn btn-outline-primary" type="button" name="button" (click)="descriptionSearch()">Search by Description</button>
      </div>
      <div class="d-flex flex-wrap justify-content-evenly text-white mt-5" *ngIf="searchTextName !== ''" >
        <div class="flex-item m-2 justify-content-center bg-secondary"  *ngFor="let bird of birds | nameFilter:searchTextName">
          <a routerLink="/birds/{{bird._id}}">
            <img src="{{bird.imageIndex}}" alt="photo of {{bird.name}}">
            <h4 class="bird-name">{{bird.name}}</h4>
          </a>
        </div>
      </div>
    </div>

    <!-- Search by habitat -->
    <div class="habitat-search" *ngIf="searchByHabitat">
      <div class="search-bird">
        <input type="text" name="search" [(ngModel)]="searchTextHabitat" placeholder="Search by habitat">
      </div>
      <div class="search-btns">
        <button class="btn btn-outline-primary" type="button" name="button" (click)="nameSearch()">Search by Name</button>
        <button class="btn btn-outline-primary active" type="button" name="button" (click)="habitatSearch()">Search by Habitat</button>
        <button class="btn btn-outline-primary" type="button" name="button" (click)="descriptionSearch()">Search by Description</button>
      </div>
      <div class="d-flex flex-wrap justify-content-evenly text-white mt-5" *ngIf="searchTextHabitat !== ''">
        <div class="flex-item m-2 justify-content-center bg-secondary"  *ngFor="let bird of birds | habitatFilter:searchTextHabitat">
          <a routerLink="/birds/{{bird._id}}">
            <img src="{{bird.imageIndex}}" alt="photo of {{bird.name}}">
            <h4 class="bird-name">{{bird.name}}</h4>
          </a>
        </div>
      </div>
    </div>

    <!-- Search by description -->
    <div class="description-search" *ngIf="searchByDescription">
      <div class="search-bird">
        <input type="text" name="search" [(ngModel)]="searchTextDescription" placeholder="Describe bird">
      </div>
      <div class="search-btns">
        <button class="btn btn-outline-primary" type="button" name="button" (click)="nameSearch()">Search by Name</button>
        <button class="btn btn-outline-primary" type="button" name="button" (click)="habitatSearch()">Search by Habitat</button>
        <button class="btn btn-outline-primary active" type="button" name="button" (click)="descriptionSearch()">Search by Description</button>
      </div>
      <div class="d-flex flex-wrap justify-content-evenly text-white mt-5" *ngIf="searchTextDescription !== ''">
        <div class="flex-item m-2 justify-content-center bg-secondary" *ngFor="let bird of birds | descriptionFilter:searchTextDescription">
          <a routerLink="/birds/{{bird._id}}">
            <img src="{{bird.imageIndex}}" alt="photo of {{bird.name}}">
            <h4 class="bird-name">{{bird.name}}</h4>
          </a>
        </div>
      </div>
    </div>

  </div>
</div>
